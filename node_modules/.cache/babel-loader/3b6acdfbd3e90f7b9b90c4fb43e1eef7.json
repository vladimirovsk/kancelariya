{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _StateStorage = require('./StateStorage');\n\nvar _StateStorage2 = _interopRequireDefault(_StateStorage);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar propTypes = {\n  shouldUpdateScroll: _propTypes2.default.func,\n  createScrollBehavior: _propTypes2.default.func.isRequired,\n  routerProps: _propTypes2.default.object.isRequired,\n  children: _propTypes2.default.element.isRequired\n};\nvar childContextTypes = {\n  scrollBehavior: _propTypes2.default.object.isRequired\n};\n\nvar ScrollBehaviorContext = function (_React$Component) {\n  _inherits(ScrollBehaviorContext, _React$Component);\n\n  function ScrollBehaviorContext(props, context) {\n    _classCallCheck(this, ScrollBehaviorContext);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _initialiseProps.call(_this);\n\n    var routerProps = props.routerProps;\n    var router = routerProps.router;\n    _this.scrollBehavior = props.createScrollBehavior({\n      addTransitionHook: router.listenBefore,\n      stateStorage: new _StateStorage2.default(router),\n      getCurrentLocation: function getCurrentLocation() {\n        return _this.props.routerProps.location;\n      },\n      shouldUpdateScroll: _this.shouldUpdateScroll\n    });\n\n    _this.scrollBehavior.updateScroll(null, routerProps);\n\n    return _this;\n  }\n\n  ScrollBehaviorContext.prototype.getChildContext = function getChildContext() {\n    return {\n      scrollBehavior: this\n    };\n  };\n\n  ScrollBehaviorContext.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var routerProps = this.props.routerProps;\n    var prevRouterProps = prevProps.routerProps;\n\n    if (routerProps.location === prevRouterProps.location) {\n      return;\n    }\n\n    this.scrollBehavior.updateScroll(prevRouterProps, routerProps);\n  };\n\n  ScrollBehaviorContext.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.scrollBehavior.stop();\n  };\n\n  ScrollBehaviorContext.prototype.render = function render() {\n    return this.props.children;\n  };\n\n  return ScrollBehaviorContext;\n}(_react2.default.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.shouldUpdateScroll = function (prevRouterProps, routerProps) {\n    var shouldUpdateScroll = _this2.props.shouldUpdateScroll;\n\n    if (!shouldUpdateScroll) {\n      return true;\n    } // Hack to allow accessing scrollBehavior._stateStorage.\n\n\n    return shouldUpdateScroll.call(_this2.scrollBehavior, prevRouterProps, routerProps);\n  };\n\n  this.registerElement = function (key, element, shouldUpdateScroll) {\n    _this2.scrollBehavior.registerElement(key, element, shouldUpdateScroll, _this2.props.routerProps);\n  };\n\n  this.unregisterElement = function (key) {\n    _this2.scrollBehavior.unregisterElement(key);\n  };\n};\n\nScrollBehaviorContext.propTypes = propTypes;\nScrollBehaviorContext.childContextTypes = childContextTypes;\nexports.default = ScrollBehaviorContext;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/s.vladimirov/Project/React/kancelaria/node_modules/react-router-scroll/lib/ScrollBehaviorContext.js"],"names":["exports","__esModule","_propTypes","require","_propTypes2","_interopRequireDefault","_react","_react2","_StateStorage","_StateStorage2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","propTypes","shouldUpdateScroll","func","createScrollBehavior","isRequired","routerProps","object","children","element","childContextTypes","scrollBehavior","ScrollBehaviorContext","_React$Component","props","context","_this","_initialiseProps","router","addTransitionHook","listenBefore","stateStorage","getCurrentLocation","location","updateScroll","getChildContext","componentDidUpdate","prevProps","prevRouterProps","componentWillUnmount","stop","render","Component","_this2","registerElement","key","unregisterElement","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _StateStorage = require('./StateStorage');\n\nvar _StateStorage2 = _interopRequireDefault(_StateStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  shouldUpdateScroll: _propTypes2.default.func,\n  createScrollBehavior: _propTypes2.default.func.isRequired,\n  routerProps: _propTypes2.default.object.isRequired,\n  children: _propTypes2.default.element.isRequired\n};\n\nvar childContextTypes = {\n  scrollBehavior: _propTypes2.default.object.isRequired\n};\n\nvar ScrollBehaviorContext = function (_React$Component) {\n  _inherits(ScrollBehaviorContext, _React$Component);\n\n  function ScrollBehaviorContext(props, context) {\n    _classCallCheck(this, ScrollBehaviorContext);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _initialiseProps.call(_this);\n\n    var routerProps = props.routerProps;\n    var router = routerProps.router;\n\n\n    _this.scrollBehavior = props.createScrollBehavior({\n      addTransitionHook: router.listenBefore,\n      stateStorage: new _StateStorage2.default(router),\n      getCurrentLocation: function getCurrentLocation() {\n        return _this.props.routerProps.location;\n      },\n      shouldUpdateScroll: _this.shouldUpdateScroll\n    });\n\n    _this.scrollBehavior.updateScroll(null, routerProps);\n    return _this;\n  }\n\n  ScrollBehaviorContext.prototype.getChildContext = function getChildContext() {\n    return {\n      scrollBehavior: this\n    };\n  };\n\n  ScrollBehaviorContext.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var routerProps = this.props.routerProps;\n\n    var prevRouterProps = prevProps.routerProps;\n\n    if (routerProps.location === prevRouterProps.location) {\n      return;\n    }\n\n    this.scrollBehavior.updateScroll(prevRouterProps, routerProps);\n  };\n\n  ScrollBehaviorContext.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.scrollBehavior.stop();\n  };\n\n  ScrollBehaviorContext.prototype.render = function render() {\n    return this.props.children;\n  };\n\n  return ScrollBehaviorContext;\n}(_react2.default.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.shouldUpdateScroll = function (prevRouterProps, routerProps) {\n    var shouldUpdateScroll = _this2.props.shouldUpdateScroll;\n\n    if (!shouldUpdateScroll) {\n      return true;\n    }\n\n    // Hack to allow accessing scrollBehavior._stateStorage.\n    return shouldUpdateScroll.call(_this2.scrollBehavior, prevRouterProps, routerProps);\n  };\n\n  this.registerElement = function (key, element, shouldUpdateScroll) {\n    _this2.scrollBehavior.registerElement(key, element, shouldUpdateScroll, _this2.props.routerProps);\n  };\n\n  this.unregisterElement = function (key) {\n    _this2.scrollBehavior.unregisterElement(key);\n  };\n};\n\nScrollBehaviorContext.propTypes = propTypes;\nScrollBehaviorContext.childContextTypes = childContextTypes;\n\nexports.default = ScrollBehaviorContext;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}